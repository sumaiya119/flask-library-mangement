{% extends 'base.html' %}
{%block title%} Books {%endblock%}
{%block content%}
{%with btn_mode = 'dark', btn= 'Create' ,form = formB  %}
    {%include 'add_book_modal.html'%}
{%endwith%}
{%with btn_mode = 'dark', btn= 'Borrow', form = formB %} 
{%include 'add_book_modal.html'%}
{%endwith%}
{%with btn_mode = 'dark',btn= 'Return', form = formB %}
{%include 'add_book_modal.html'%}
{%endwith%}
{%include 'frappe-api.html'%}
<table class="table">
    <thead class="table-dark">
        <tr>
            <th scope="col" class="table-id">ID</th>
            <th scope="col">Name</th>
            <th scope="col">ISBN</th>
            <th scope="col">Author</th>
            <th scope="col">Stock</th>
            <th scope="col"></th>
        </tr>
    </thead>
    <tbody>
    {% for book in books %}
        <tr>
            <th scope="row" class="table-id">{{book.id}}</th>
            <td>{{book.title}}</td>
            <td>{{book.isbn}}</td>
            <td>{{book.author}}</td>
            <td>{{book.stock}}</td>
            <td class="action"> 
                {% with id = book.id, q= 'book' %}
                    {%include 'delete_modal.html'%}
                {%endwith%}
                {%with btn_mode = 'primary', form = formB, book = book %}
                    {%include 'update_book_modal.html'%}
                {%endwith%}
                
            </td>
        </tr>
    {%endfor%}
    </tbody>
</table>
{%endblock%}